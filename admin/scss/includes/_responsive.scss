// Estilos para que el panel de administración sea responsivo

// --- Para Tablets y Móviles (hasta 991px) ---
@media (max-width: 991px) {
    .dashboard-sidemenu {
        position: fixed;
        left: -100%; // El menú está oculto por defecto
        height: 100%;
        transition: left 0.3s ease-in-out !important; // Asegura una transición suave

        &.active {
            left: 0; // La clase .active lo hace visible
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }
    }

    .dashboard-header .dashboard-menu-toggle {
        display: block; // Muestra el botón de hamburguesa
    }

    .dashboard-content {
        padding: 1.5rem; // Reduce el padding en pantallas más pequeñas
    }
}

// --- Para Móviles (hasta 480px) ---
@media (max-width: 480px) {
    .dashboard-content {
        padding: 1rem;
    }

    .module-header h2 {
        font-size: 1.5rem; // Reduce el tamaño del título principal del módulo
    }

    .action-ribbon {
        // En móvil, los botones de la cinta ocupan todo el ancho
        flex-direction: column;
        align-items: stretch;

        .action-btn {
            text-align: center;
        }
    }
}
// Al final de admin/scss/includes/_dashboard_base.scss

// --- ESTILOS PARA EL MENÚ LATERAL COLAPSABLE (SOLO EN DESKTOP) ---

@media (min-width: 992px) {
    .dashboard-sidemenu {
        transition: width 0.3s ease-in-out; // Transición suave para el ancho

        .nav-link {
            display: flex;
            align-items: center;
            gap: 1rem;


        }

        .menu-icon {
            font-size: 1.2rem;
            width: 24px; // Ancho fijo para el icono
            text-align: center;
        }
    }

    // Estilos del pie de página del menú (donde va el botón)
    .sidemenu-footer {
        margin-top: auto; // Empuja el footer hacia abajo
        padding: 1rem;
        filter: invert(1);
    }

    #sidemenu-collapse-btn {
        background: none;
        border: none;
        width: 100%;
        color: $tcolor2;
        cursor: pointer;
        font-size: 1.5rem;
        transition: transform 0.3s ease-in-out;
    }

    // --- ESTADO COLAPSADO ---
    .sidemenu-collapsed {
        width: 80px; // Ancho del menú cuando está colapsado

        .menu-text, .dashboard-sidemenu-header h3 {
            // Ocultamos el texto
            opacity: 0;
            visibility: hidden;
            width: 0;
            white-space: nowrap;
        }
        
        .nav-link {
            color: white;
            justify-content: center;
        }

        #sidemenu-collapse-btn {
            transform: rotate(180deg); // Gira la flecha
        }
    }
}











/* --- ESTILOS COMPACTOS PARA TABLETS Y MÓVILES --- */

/* Aplica a pantallas de tablet y más pequeñas */
@media (max-width: 991px) {
    .main-content {
        padding: 1rem; // Reduce el espaciado general del contenido
    }

    .dashboard-widget {
        padding: 1rem; // Widgets más compactos
    }

    .action-ribbon {
        gap: 0.5rem; // Menos espacio entre los botones de acción
        flex-wrap: wrap; // Permite que los botones pasen a la siguiente línea si no caben
    }

    .action-btn {
        padding: 0.5rem 0.8rem; // Botones ligeramente más pequeños
        font-size: 0.85rem;
    }

    .form-group {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;

        label {
            margin-bottom: 0;
        }
    }
}

/* Aplica solo a pantallas de móviles */
@media (max-width: 767px) {
    
    // Oculta el texto del botón para colapsar el menú, dejando solo el ícono
    #sidemenu-collapse-btn span {
        display: none;
    }

    // --- Tablas Responsivas (Estilo Tarjeta) ---

    // Ocultamos las cabeceras de las tablas
    .table-responsive thead {
        display: none;
    }

    // Convertimos cada fila en un bloque independiente
    .table-responsive tr {
        display: block;
        margin-bottom: 1rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 0.5rem;
    }
    
    // Convertimos las celdas en bloques y añadimos etiquetas
    .table-responsive td {
        display: block;
        text-align: right; // Alineamos el contenido a la derecha
        position: relative;
        padding-left: 50%; // Dejamos espacio para la etiqueta
        border-bottom: 1px dotted #eee;
        margin-bottom: 5px;

        &:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        // Usamos un pseudo-elemento para crear la etiqueta
        &::before {
            content: attr(data-label); // Tomará el texto del atributo data-label
            position: absolute;
            left: 5px;
            width: 45%;
            padding-right: 10px;
            white-space: nowrap;
            text-align: left;
            font-weight: bold;
        }
    }

    /* Asignación de etiquetas para la tabla de USUARIOS */
    #users-table-body td:nth-of-type(1)::before { content: "Usuario:"; }
    #users-table-body td:nth-of-type(2)::before { content: "Tienda:"; }
    #users-table-body td:nth-of-type(3)::before { content: "Rol:"; }
    #users-table-body td:nth-of-type(4)::before { content: "Estado:"; }
    #users-table-body td:nth-of-type(5)::before { content: "Acciones:"; }

    /* Asignación de etiquetas para la tabla de PRODUCTOS */
    #product-table-body td:nth-of-type(1) { padding-left: 0; &::before { display: none; }} // Checkbox
    #product-table-body td:nth-of-type(2)::before { content: "Código:"; }
    #product-table-body td:nth-of-type(3)::before { content: "Nombre:"; }
    #product-table-body td:nth-of-type(4)::before { content: "Depto:"; }
    #product-table-body td:nth-of-type(5)::before { content: "Precio:"; }
    #product-table-body td:nth-of-type(6)::before { content: "Stock:"; }
    #product-table-body td:nth-of-type(7)::before { content: "Mínimo:"; }
    #product-table-body td:nth-of-type(8)::before { content: "Máximo:"; }
    #product-table-body td:nth-of-type(9)::before { content: "Usa Inv:"; }
    #product-table-body td:nth-of-type(10)::before { content: "Estado:"; }
    #product-table-body td:nth-of-type(11)::before { content: "Acciones:"; }

    // Centrar acciones en la vista de tarjeta
    .table-responsive td:has(.action-btn) {
        text-align: center;
        padding-left: 0;

        &::before {
            display: none;
        }
    }
}
/* --- ESTILOS COMPACTOS PARA EL MODAL DE PERMISOS --- */

@media (max-width: 767px) {
    #permissions-modal {
        .modal-content {
            width: 95%; // El modal ocupará casi todo el ancho de la pantalla
            max-height: 80vh; // Limita la altura para que no ocupe toda la pantalla verticalmente
        }

        .modal-body {
            padding: 1rem; // Reduce el espacio interno
        }

        #permissions-checkbox-container {
            // Divide los permisos en dos columnas para ahorrar espacio vertical
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem 1rem; // Espacio entre filas y columnas

            .form-group.setting-toggle {
                // Ajusta el espaciado para los checkboxes
                padding: 0.5rem 0;
                border-bottom: 1px solid #f0f0f0;
                
                label {
                    font-size: 0.9rem; // Reduce el tamaño de la letra de los permisos
                }
            }
        }
        
        // Estilos para el selector de rol al final
        .form-group:has(#edit-rol-usuario) {
            grid-column: 1 / -1; // Hace que el selector de rol ocupe ambas columnas
            margin-top: 1rem;
            padding-top: 1rem;
            
            label, select, small {
                font-size: 0.9rem;
            }
        }
    }
}

