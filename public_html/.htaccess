# --- CONFIGURACIÓN GENERAL ---
Options -Indexes
ErrorDocument 404 /diezyquincestore/public_html/404.php
RewriteEngine On
RewriteBase /diezyquincestore/public_html/

# --- REGLAS PARA PÁGINAS ESTÁTICAS Y ESPECÍFICAS ---
RewriteRule ^ingresar/?$ login.php [L,QSA]
RewriteRule ^registro/?$ registro.php [L,QSA]
RewriteRule ^ofertas/?$ pageuniquecontent.php?ofertas=true [L,QSA]

# --- REGLAS PARA CONTENIDO DINÁMICO (PRODUCTOS, DEPARTAMENTOS, ETC.) ---
RewriteRule ^producto/([a-zA-Z0-9_-]+)/?$ pageuniquecontent.php?product_slug=$1 [L,QSA]
RewriteRule ^departamento/([a-zA-Z0-9_-]+)/?$ pageuniquecontent.php?department_slug=$1 [L,QSA]
RewriteRule ^ofertas/([a-zA-Z0-9_-]+)/?$ pageuniquecontent.php?ofertas=true&campaign=$1 [L,QSA]
RewriteRule ^productos/([a-zA-Z0-9_-]+)/?$ index.php?campaign=$1 [L,QSA]

# --- REGLAS GENÉRICAS PARA MARCAS (Se procesan al final) ---

# Evitar que las reglas de abajo se apliquen a archivos o directorios existentes
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Regla para MARCA / TIPO (ej: /starmate/audifonos)
RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/?$ pageuniquecontent.php?marca_slug=$1&tipo_slug=$2 [L,QSA]

# Evitar que las reglas de abajo se apliquen a archivos o directorios existentes (de nuevo por seguridad)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Regla para MARCA (ej: /starmate) - ¡Esta es la que resuelve tu pregunta!
RewriteRule ^([a-zA-Z0-9_-]+)/?$ pageuniquecontent.php?marca_slug=$1 [L,QSA]